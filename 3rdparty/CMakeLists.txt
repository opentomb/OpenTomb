find_package(Freetype)
find_package(Bullet)

if(NOT FREETYPE_FOUND)
    file(GLOB FREETYPE_SOURCE RELATIVE freetype2 *.c *.cpp)
    set(FREETYPE_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/freetype2 CACHE PATH "Freetype include dir")
    include_directories(${FREETYPE_INCLUDE_DIRS})
    add_library(private_freetype ${FREETYPE_SOURCE})
    set(FREETYPE_LIBRARIES private_freetype CACHE FILEPATH "Freetype lib")
else()
    set(FREETYPE_INCLUDE_DIRS ${FREETYPE_INCLUDE_DIRS} CACHE PATH "Freetype include dir")
    set(FREETYPE_LIBRARIES ${FREETYPE_LIBRARIES} CACHE FILEPATH "Freetype libs")
endif()

if(NOT BULLET_FOUND)
    file(GLOB BULLET_SOURCE RELATIVE bullet *.c *.cpp)
    set(BULLET_INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/bullet/src CACHE PATH "Bullet include dir")
    include_directories(${BULLET_INCLUDE_DIRS})
    add_library(private_bullet ${BULLET_SOURCE})
    set(BULLET_LIBRARIES private_bullet CACHE FILEPATH "Bullet lib")
else()
    set(BULLET_LIBRARIES ${BULLET_LIBRARIES} CACHE FILEPATH "Bullet libs")
endif()

